var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,e=function(a,b){a=String(a);for(b=b||2;a.length<b;)a="0"+a;return a};return function(f,j,r){var p=dateFormat;1==arguments.length&&("[object String]"==Object.prototype.toString.call(f)&&!/\d/.test(f))&&(j=f,f=void 0);f=f?new Date(f):new Date;if(isNaN(f))throw SyntaxError("invalid date");
j=String(p.masks[j]||j||p.masks["default"]);"UTC:"==j.slice(0,4)&&(j=j.slice(4),r=!0);var m=r?"getUTC":"get",q=f[m+"Date"](),k=f[m+"Day"](),g=f[m+"Month"](),d=f[m+"FullYear"](),h=f[m+"Hours"](),u=f[m+"Minutes"](),n=f[m+"Seconds"](),m=f[m+"Milliseconds"](),l=r?0:f.getTimezoneOffset(),v={d:q,dd:e(q),ddd:p.i18n.dayNames[k],dddd:p.i18n.dayNames[k+7],m:g+1,mm:e(g+1),mmm:p.i18n.monthNames[g],mmmm:p.i18n.monthNames[g+12],yy:String(d).slice(2),yyyy:d,h:h%12||12,hh:e(h%12||12),H:h,HH:e(h),M:u,MM:e(u),s:n,
ss:e(n),l:e(m,3),L:e(99<m?Math.round(m/10):m),t:12>h?"a":"p",tt:12>h?"am":"pm",T:12>h?"A":"P",TT:12>h?"AM":"PM",Z:r?"UTC":(String(f).match(b)||[""]).pop().replace(c,""),o:(0<l?"-":"+")+e(100*Math.floor(Math.abs(l)/60)+Math.abs(l)%60,4),S:["th","st","nd","rd"][3<q%10?0:(10!=q%100-q%10)*q%10]};return j.replace(a,function(a){return a in v?v[a]:a.slice(1,a.length-1)})}}();
dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};
dateFormat.i18n={dayNames:"\u0412\u0441\u043a \u041f\u043d\u0434 \u0412\u0442\u0440 \u0421\u0440\u0434 \u0427\u0442\u0432 \u041f\u0442\u043d \u0421\u0431\u0442 \u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0412\u0442\u043e\u0440\u043d\u0438\u043a \u0421\u0440\u0435\u0434\u0430 \u0427\u0435\u0442\u0432\u0435\u0440\u0433 \u041f\u044f\u0442\u043d\u0438\u0446\u0430 \u0421\u0443\u0431\u0431\u043e\u0442\u0430".split(" "),monthNames:"\u042f\u043d\u0432 \u0424\u0435\u0432 \u041c\u0440\u0442 \u0410\u043f\u0440 \u041c\u0430\u0439 \u0418\u044e\u043d \u0418\u044e\u043b \u0410\u0432\u0433 \u0421\u0435\u043d \u041e\u043a\u0442 \u041d\u043e\u044f \u0414\u0435\u043a \u042f\u043d\u0432\u0430\u0440\u044f \u0424\u0435\u0432\u0440\u0430\u043b\u044f \u041c\u0430\u0440\u0442\u0430 \u0410\u043f\u0440\u0435\u043b\u044f \u041c\u0430\u044f \u0418\u044e\u043d\u044f \u0418\u044e\u043b\u044f \u0410\u0432\u0433\u0443\u0441\u0442\u0430 \u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f \u041e\u043a\u0442\u044f\u0431\u0440\u044f \u041d\u043e\u044f\u0431\u0440\u044f \u0414\u0435\u043a\u0430\u0431\u0440\u044f".split(" ")};
Date.prototype.format=function(a,b){return dateFormat(this,a,b)};
(function(a,b,c,e,f){function j(b,d,g){var k=2===b?a.onhashchange:a.onpopstate,e=2===b?"hashchange":"popstate",h=L[e];m.createEvent?(b=m.createEvent("Events"),b.initEvent(e,c,c)):(b=m.createEventObject(),b.type=e);b.state=F.state;b.oldURL=d;b.newURL=g;k&&k.call(a,b);d=0;for(g=h.length;d<g;d++)h[d].call(a,b)}function r(a){return C?a?C.setItem("__hitoryapi__",M(a)):Q(C.getItem("__hitoryapi__"))||{}:{}}function p(d,g,k){var e=d,h,f=c;if(l||v)for(h in g){if(x.call(g,h))if(v)g[h].get&&v.call(d,h,g[h].get),
g[h].set&&t.call(d,h,g[h].set);else if(l)try{l(d,h,g[h])}catch(j){if(k)return c;f=b;break}}else f=b;if(f&&E){k="StaticClass"+w+E++;e=["Class "+k];"execVB"in a||execScript("Function execVB(c) ExecuteGlobal(c) End Function","VBScript");"VBCVal"in a||execScript("Function VBCVal(o,r) If IsObject(o) Then Set r=o Else r=o End If End Function","VBScript");for(h in d)e[e.length]="Public ["+h+"]";x.call(d,"toString")&&(d.propertyIsEnumerable("toString")||(e[e.length]="Public [toString]"),g["(toString)"]={get:function(){return this.toString.call(this)}});
for(h in g)if(x.call(g,h)&&(g[h].get&&(d["get "+h]=g[h].get,e.push("Public [get "+h+"]","Public "+("(toString)"===h?"Default ":"")+"Property Get ["+h+"]","Call VBCVal(me.[get "+h+"].call(me),["+h+"])","End Property")),g[h].set))d["set "+h]=g[h].set,e.push("Public [set "+h+"]","Public Property Let ["+h+"](v)","Call me.[set "+h+"].call(me,v)","End Property","Public Property Set ["+h+"](v)","Call me.[set "+h+"].call(me,v)","End Property");e.push("End Class","Function "+k+"Factory()","Set "+k+"Factory=New "+
k,"End Function");execVB(e.join("\n"));e=a[k+"Factory"]();for(h in d)e[h]=d[h];x.call(d,"toString")&&(e.toString=d.toString)}return e}var m=a.document,q=m.documentElement,k=a.history||{},g=a.location,d=!!k.pushState,h=d&&k.state===f,u=g.href,n=a.JSON||{},l=Object.defineProperty,v=Object.prototype.__defineGetter__,t=Object.prototype.__defineSetter__,s=k.pushState,D=k.replaceState,C=a.sessionStorage,x=Object.prototype.hasOwnProperty,K=Object.prototype.toString,y=+((a.eval&&eval("/*@cc_on 1;@*/")&&/msie (\d+)/i.exec(navigator.userAgent)||
[])[1]||0),w=(new Date).getTime(),E=(l||v)&&(!y||8<y)?0:1,A=8>y?m.createElement("iframe"):c,I,z,G,J="",N=(I="addEventListener",a[I])||(I="attachEvent",J="on",a[I]),U=(z="removeEventListener",a[z])||(z="detachEvent",a[z]),V=(G="dispatchEvent",a[G])||(G="fireEvent",a[G]),O=[],y=[],R=0,L={onpopstate:O,popstate:O,onhashchange:y,hashchange:y},H=function(){var a,d,g,h={basepath:"/",redirect:0,type:"/"};g=m.getElementsByTagName("SCRIPT");for(a=0;g[a];a++)if(d=/(.*)\/(?:history|spike)(?:-\d\.\d(?:\.\d)?\w?)?(?:\.min)?.js\?(.*)$/i.exec(g[a].src)||
a===g.length-1&&2===(d=g[a].src.split("?")).length&&(d[2]=d[1])&&d){a=0;for(g=d[2].split("&");g[a];)d=g[a++].split("="),h[d[0]]="true"==d[1]?b:"false"==d[1]?c:d[1]||"";h.basepath=h.basepath||"/";break}return h}(),B=function(a){var b,h,c,e,k,f,l,j=RegExp("^"+H.basepath,"i");return function(n,m){if(n){if(!d){var u=B(),D=u.f,q=u.i;n=/^(?:[a-z]+\:)?\/\//.test(n)?0===n.indexOf("/")?q+n:n:q+"//"+u.h+(0===n.indexOf("/")?n:0===n.indexOf("?")?D+n:0===n.indexOf("#")?D+u.g+n:D.replace(/[^\/]+$/g,"")+n)}}else if(n=
g.href,!d||m)n=g.protocol+"//"+g.host+H.basepath+(n.replace(/^[^#]*/,"")||"#").replace(RegExp("^#[/]?(?:"+H.type+")?"),"");if(b!==n){a.href=b=n;f=a.port;k=a.host;l=a.pathname;if("http:"===a.protocol&&80==f||"https:"===a.protocol&&443==f)k=a.hostname,f="";l=0===l.indexOf("/")?l:"/"+l;h=l+a.search+a.hash;e=l.replace(j,H.type)+a.search;c=e+a.hash}return{a:a.protocol+"//"+k+h,i:a.protocol,h:k,j:a.hostname||g.hostname,k:f||g.port,f:l,g:a.search,b:a.hash,d:h,c:e,e:c}}}(m.createElement("a")),F=!E?k:{back:k.back,
forward:k.forward,go:k.go,pushState:e,replaceState:e,emulate:!d,toString:function(){return"[object History]"}},P={state:{get:function(){return A&&A.storage||r()[F.location.href]||e}},length:{get:function(){return k.length}},location:{set:function(b){a.location=b},get:function(){return d?g:S}}},S={assign:function(a){g.assign(d||0!==a.indexOf("#")?a:"#"+B().c+a)},reload:g.reload,replace:function(a){g.replace(d||0!==a.indexOf("#")?a:"#"+B().c+a)},toString:function(){return this.href}},W={href:{set:function(a){g.href=
a},get:function(){return B().a}},protocol:{set:function(a){g.protocol=a},get:function(){return g.protocol}},host:{set:function(a){g.host=a},get:function(){return g.host}},hostname:{set:function(a){g.hostname=a},get:function(){return g.hostname}},port:{set:function(a){g.port=a},get:function(){return g.port}},pathname:{set:function(a){g.pathname=a},get:function(){return B().f}},search:{set:function(a){g.search=a},get:function(){return B().g}},hash:{set:function(a){a=0===a.indexOf("#")?a:"#"+a;var b=
B();A?a!=b.b&&(F.pushState(e,e,b.c+a),T({oldURL:b.a})):g.hash="#"+b.c+a},get:function(){return B().b}}},M=n.stringify||function(a){function b(g){var h,c,e;h=(typeof g).charCodeAt(2);if(114===h)g=d(g);else if(109===h)g=isFinite(g)?""+g:"null";else if(111===h||108===h)g=""+g;else if(106===h)if(g){c=(h="[object Array]"===K.apply(g))?"[":"{";if(h)for(e=0;e<g.length;e++)c+=(0==e?"":",")+b(g[e]);else for(e in g)x.call(g,e)&&g[e]!==a&&(c+=(1==c.length?"":",")+d(e)+":"+b(g[e]));g=c+(h?"]":"}")}else g="null";
else g=a;return g}function d(a){var b=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};b.lastIndex=0;return b.test(a)?'"'+a.replace(b,function(a){var b=g[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}return b}(),Q=function(){var a=n.parse;return function(b){return b?a?a(b):(new Function("return "+
b))():e}}(),T=function(){function h(a){var b=B();if(R)return x=b.a,R=0;var d=a.oldURL||x;a=x=a.newURL||b.a;var b=d.replace(/^.*?(#|$)/,""),g=a.replace(/^.*?(#|$)/,"");d!=a&&!s&&j();u=s=0;b!=g&&j(2,d,a)}function n(){if(u&&!(u=0)&&w.d!==H.basepath)clearInterval(r),setTimeout(j,10)}var D=a.onpopstate||e,t=a.onhashchange||e,s=0,r=e,w=B(),x=w.a;w.b.replace(/^#/,"");N(J+"hashchange",h,c);N(J+"popstate",function(){if(u===g.href)return u=0;u=0;j(s=1)},c);F.redirect=function(h,c){H.type=h===f?H.type:h;H.basepath=
c===f?H.basepath:c;if(a.top==a.self){var k=B(e,b).d,l=g.search,n=g.pathname;c=H.basepath;d?(k!=c&&RegExp("^"+c+"$","i").test(n)&&(g.href=k),RegExp("^"+c+"$","i").test(n+"/"))?g.href=c:RegExp("^"+c,"i").test(n)||(g.href=n.replace(/^\//,c)+l):n!=c&&(g.href=c+"#"+n.replace(RegExp("^"+c,"i"),H.type)+l+g.hash)}};F=p(F,E?P:k.state===f?{state:P.state,location:P.location}:{location:P.location});S=p(S,W);a[I]=function(a,b,g,c){L[a]?(L[a].push(b),!d&&O===L[a]&&n()):N(a,b,g,c)};a[z]=function(a,b,d){var g=L[a];
if(g)for(a=g.length;--a;){if(g[a]===b){g.splice(a,1);break}}else U(a,b,d)};a[G]=function(d,g){var c=L[d],h=c===O?a.onpopstate:a.onhashchange;if(c){g=g||("string"==typeof d?a.event:d);try{g&&(g.target=a)}catch(e){try{g.srcElement=a}catch(k){}}h&&h.call(a,g);for(var h=0,l=c.length;h<l;h++)c[h].call(a,g);return b}return V(d,g)};E&&execScript("Public history, onhashchange","VBScript");if((!l&&!v||!p(a,{onhashchange:{get:function(){return t},set:function(a){t=a||e}},onpopstate:{get:function(){return D},
set:function(a){(D=a||e)&&!d&&n()}}},1))&&!d)r=setInterval(function(){a.onpopstate&&n()},100);H.redirect&&F.redirect();if(!d)m[I](J+"click",function(d){var g=d||a.event,h=g.target||g.srcElement;d="defaultPrevented"in g?g.defaultPrevented:g.returnValue===c;if(h&&"A"===h.nodeName&&!d&&(d=B(h.getAttribute("href",2),b),d.b&&"#"!==d.b&&d.b===d.a.replace(B().a.split("#").shift(),""))){history.location.hash=d.b;d=d.b.replace(/^#/,"");if((h=m.getElementById(d))&&h.id===d&&"A"===h.nodeName)h=h.getBoundingClientRect(),
a.scrollTo(q.scrollLeft||0,h.top+(q.scrollTop||0)-(q.clientTop||0));g.preventDefault?g.preventDefault():g.returnValue=!1}},c);return h}();F.pushState=function(a,b,c,k){var l=r(),f=B().a,n=c&&B(c);u=0;c=n?n.a:f;k&&l[f]&&delete l[f];if((!d||h)&&C&&a)l[c]=a,r(l),a=e;s&&D?k?D.call(F,a,b,c):s.call(F,a,b,c):n&&n.d!=B().d&&(R=1,k?g.replace("#"+n.e):g.hash=n.e)};F.replaceState=function(a,b,d){F.pushState(a,b,d,1)};E?(a.history=F,function(b,d){if(A){var h,e,k=function(){var a=B().a;d!=a&&T({oldURL:d,newURL:d=
a})};e=setInterval(k,100);A.src="javascript:true;";A=q.firstChild.appendChild(A).contentWindow;F.pushState=h=function(a,b,c,l,f){var n=A.document,j=["<script>","lfirst=1;",,"storage="+M(a)+";","\x3c/script>"];if(c=c&&B(c)){f||clearInterval(e);if(l)A.lfirst?(history.back(),h(a,b,c.a,0,1)):(A.storage=a,g.replace("#"+c.e));else if(c.a!=d||f)A.lfirst||(A.lfirst=1,h(A.storage,b,d,0,1)),j[2]='parent.location.hash="'+c.e.replace(/"/g,'\\"')+'";',n.open(),n.write(j.join("")),n.close();f||(d=B().a,e=setInterval(k,
100))}else A.storage=a};N(J+"unload",function(){if(A.storage){var a={};a[B().a]=A.storage;m.cookie="_historyAPI="+escape(M(a))}clearInterval(e)},c);if(1<b.length){b=unescape(b.pop().split(";").shift());try{A.storage=Q(b)[B().a]}catch(l){}}!n.parse&&!n.stringify&&(n.parse=Q,n.stringify=M,a.JSON=n)}}(m.cookie.split("_historyAPI="),B().a)):a.history.emulate=!d})(window,!0,!1,null);
(function(a){a.fn.extend({autocomplete:function(b,c){var e="string"==typeof b;c=a.extend({},a.Autocompleter.defaults,{url:e?b:null,data:e?null:b,delay:e?a.Autocompleter.defaults.delay:10,max:c&&!c.scroll?10:150},c);c.highlight=c.highlight||function(a){return a};c.formatMatch=c.formatMatch||c.formatItem;return this.each(function(){new a.Autocompleter(this,c)})},result:function(a){return this.bind("result",a)},search:function(a){return this.trigger("search",[a])},flushCache:function(){return this.trigger("flushCache")},
setOptions:function(a){return this.trigger("setOptions",[a])},unautocomplete:function(){return this.trigger("unautocomplete")}});a.Autocompleter=function(b,c){function e(){var d=t.selected();if(!d)return!1;var e=d.result;h=e;if(c.multiple){var k=j(g.val());if(1<k.length){var l=c.multipleSeparator.length,f=a(b).selection().start,n,m=0;a.each(k,function(a,b){m+=b.length;if(f<=m)return n=a,!1;m+=l});k[n]=e;e=k.join(c.multipleSeparator)}e+=c.multipleSeparator}g.val(e);p();g.trigger("result",[d.data,d.value]);
return!0}function f(a,b){if(l==k.DEL)t.hide();else{var d=g.val();if(b||d!=h)h=d,d=r(d),d.length>=c.minChars?(g.addClass(c.loadingClass),c.matchCase||(d=d.toLowerCase()),q(d,m,p)):(g.removeClass(c.loadingClass),t.hide())}}function j(b){return!b?[""]:!c.multiple?[a.trim(b)]:a.map(b.split(c.multipleSeparator),function(d){return a.trim(b).length?a.trim(d):null})}function r(d){if(!c.multiple)return d;var g=j(d);if(1==g.length)return g[0];g=a(b).selection().start;g=g==d.length?j(d):j(d.replace(d.substring(g),
""));return g[g.length-1]}function p(){t.visible();t.hide();clearTimeout(d);g.removeClass(c.loadingClass);c.mustMatch&&g.search(function(a){a||(c.multiple?(a=j(g.val()).slice(0,-1),g.val(a.join(c.multipleSeparator)+(a.length?c.multipleSeparator:""))):(g.val(""),g.trigger("result",null)))})}function m(d,e){if(e&&e.length&&n){g.removeClass(c.loadingClass);t.display(e,d);var f=e[0].value;c.autoFill&&(r(g.val()).toLowerCase()==d.toLowerCase()&&l!=k.BACKSPACE)&&(g.val(g.val()+f.substring(r(h).length)),
a(b).selection(h.length,h.length+f.length));t.show()}else p()}function q(d,g,h){c.matchCase||(d=d.toLowerCase());var e=u.load(d);if(e&&e.length)g(d,e);else if("string"==typeof c.url&&0<c.url.length){var k={timestamp:+new Date};a.each(c.extraParams,function(a,b){k[a]="function"==typeof b?b():b});a.ajax({mode:"abort",port:"autocomplete"+b.name,dataType:c.dataType,url:c.url,data:a.extend({q:r(d),limit:c.max},k),success:function(b){var h;if(!(h=c.parse&&c.parse(b))){h=[];b=b.split("\n");for(var e=0;e<
b.length;e++){var k=a.trim(b[e]);k&&(k=k.split("|"),h[h.length]={data:k,value:k[0],result:c.formatResult&&c.formatResult(k,k[0])||k[0]})}}u.add(d,h);g(d,h)}})}else t.emptyList(),h(d)}var k={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8},g=a(b).attr("autocomplete","off").addClass(c.inputClass),d,h="",u=a.Autocompleter.Cache(c),n=0,l,v={mouseDownOnSelect:!1},t=a.Autocompleter.Select(c,b,e,v),s;a.browser.opera&&a(b.form).bind("submit.autocomplete",function(){if(s)return s=
!1});g.bind((a.browser.opera?"keypress":"keydown")+".autocomplete",function(b){n=1;l=b.keyCode;switch(b.keyCode){case k.UP:b.preventDefault();t.visible()?t.prev():f(0,!0);break;case k.DOWN:b.preventDefault();t.visible()?t.next():f(0,!0);break;case k.PAGEUP:b.preventDefault();t.visible()?t.pageUp():f(0,!0);break;case k.PAGEDOWN:b.preventDefault();t.visible()?t.pageDown():f(0,!0);break;case c.multiple&&","==a.trim(c.multipleSeparator)&&k.COMMA:case k.TAB:case k.RETURN:if(e())return b.preventDefault(),
s=!0,!1;break;case k.ESC:t.hide();break;default:clearTimeout(d),d=setTimeout(f,c.delay)}}).focus(function(){n++}).blur(function(){n=0;v.mouseDownOnSelect||(clearTimeout(d),d=setTimeout(p,200))}).click(function(){1<n++&&!t.visible()&&f(0,!0)}).bind("search",function(){function b(a,h){var c;if(h&&h.length)for(var e=0;e<h.length;e++)if(h[e].result.toLowerCase()==a.toLowerCase()){c=h[e];break}"function"==typeof d?d(c):g.trigger("result",c&&[c.data,c.value])}var d=1<arguments.length?arguments[1]:null;
a.each(j(g.val()),function(a,d){q(d,b,b)})}).bind("flushCache",function(){u.flush()}).bind("setOptions",function(b,d){a.extend(c,d);"data"in d&&u.populate()}).bind("unautocomplete",function(){t.unbind();g.unbind();a(b.form).unbind(".autocomplete")})};a.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:!1,matchSubset:!0,matchContains:!1,cacheLength:10,max:100,mustMatch:!1,extraParams:{},selectFirst:!0,formatItem:function(a){return a[0]},
formatMatch:null,autoFill:!1,width:0,multiple:!1,multipleSeparator:", ",highlight:function(a,c){return a.replace(RegExp("(?![^&;]+;)(?!<[^<>]*)("+c.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:!0,scrollHeight:180};a.Autocompleter.Cache=function(b){function c(a,c){b.matchCase||(a=a.toLowerCase());var e=a.indexOf(c);"word"==b.matchContains&&(e=a.toLowerCase().search("\\b"+c.toLowerCase()));return-1==e?!1:0==e||b.matchContains}function e(a,
c){p>b.cacheLength&&j();r[a]||p++;r[a]=c}function f(){if(!b.data)return!1;var c={},f=0;b.url||(b.cacheLength=1);c[""]=[];for(var k=0,g=b.data.length;k<g;k++){var d=b.data[k],d="string"==typeof d?[d]:d,h=b.formatMatch(d,k+1,b.data.length);if(!1!==h){var j=h.charAt(0).toLowerCase();c[j]||(c[j]=[]);d={value:h,data:d,result:b.formatResult&&b.formatResult(d)||h};c[j].push(d);f++<b.max&&c[""].push(d)}}a.each(c,function(a,d){b.cacheLength++;e(a,d)})}function j(){r={};p=0}var r={},p=0;setTimeout(f,25);return{flush:j,
add:e,populate:f,load:function(e){if(!b.cacheLength||!p)return null;if(!b.url&&b.matchContains){var f=[],k;for(k in r)if(0<k.length){var g=r[k];a.each(g,function(a,b){c(b.value,e)&&f.push(b)})}return f}if(r[e])return r[e];if(b.matchSubset)for(k=e.length-1;k>=b.minChars;k--)if(g=r[e.substr(0,k)])return f=[],a.each(g,function(a,b){c(b.value,e)&&(f[f.length]=b)}),f;return null}}};a.Autocompleter.Select=function(b,c,e,f){function j(a){for(a=a.target;a&&"LI"!=a.tagName;)a=a.parentNode;return!a?[]:a}function r(a){m.slice(q,
q+1).removeClass(p.ACTIVE);q+=a;0>q?q=m.size()-1:q>=m.size()&&(q=0);a=m.slice(q,q+1).addClass(p.ACTIVE);if(b.scroll){var d=0;m.slice(0,q).each(function(){d+=this.offsetHeight});d+a[0].offsetHeight-u.scrollTop()>u[0].clientHeight?u.scrollTop(d+a[0].offsetHeight-u.innerHeight()):d<u.scrollTop()&&u.scrollTop(d)}}var p={ACTIVE:"ac_over"},m,q=-1,k,g="",d=!0,h,u;return{display:function(n,l){d&&(h=a("<div/>").hide().addClass(b.resultsClass).css("position","absolute").appendTo(document.body),u=a("<ul/>").appendTo(h).mouseover(function(b){j(b).nodeName&&
"LI"==j(b).nodeName.toUpperCase()&&(q=a("li",u).removeClass(p.ACTIVE).index(j(b)),a(j(b)).addClass(p.ACTIVE))}).click(function(b){a(j(b)).addClass(p.ACTIVE);e();c.focus();return!1}).mousedown(function(){f.mouseDownOnSelect=!0}).mouseup(function(){f.mouseDownOnSelect=!1}),0<b.width&&h.css("width",b.width),d=!1);k=n;g=l;u.empty();for(var v=b.max&&b.max<k.length?b.max:k.length,t=0;t<v;t++)if(k[t]){var s=b.formatItem(k[t].data,t+1,v,k[t].value,g);!1!==s&&(s=a("<li/>").html(b.highlight(s,g)).addClass(0==
t%2?"ac_even":"ac_odd").appendTo(u)[0],a.data(s,"ac_data",k[t]))}m=u.find("li");b.selectFirst&&(m.slice(0,1).addClass(p.ACTIVE),q=0);a.fn.bgiframe&&u.bgiframe()},next:function(){r(1)},prev:function(){r(-1)},pageUp:function(){0!=q&&0>q-8?r(-q):r(-8)},pageDown:function(){q!=m.size()-1&&q+8>m.size()?r(m.size()-1-q):r(8)},hide:function(){h&&h.hide();m&&m.removeClass(p.ACTIVE);q=-1},visible:function(){return h&&h.is(":visible")},current:function(){return this.visible()&&(m.filter("."+p.ACTIVE)[0]||b.selectFirst&&
m[0])},show:function(){var d=a(c).offset();h.css({width:"string"==typeof b.width||0<b.width?b.width:a(c).width(),top:d.top+c.offsetHeight,left:d.left}).show();if(b.scroll&&(u.scrollTop(0),u.css({maxHeight:b.scrollHeight,overflow:"auto"}),a.browser.msie&&"undefined"===typeof document.body.style.maxHeight)){var g=0;m.each(function(){g+=this.offsetHeight});d=g>b.scrollHeight;u.css("height",d?b.scrollHeight:g);d||m.width(u.width()-parseInt(m.css("padding-left"))-parseInt(m.css("padding-right")))}},selected:function(){var b=
m&&m.filter("."+p.ACTIVE).removeClass(p.ACTIVE);return b&&b.length&&a.data(b[0],"ac_data")},emptyList:function(){u&&u.empty()},unbind:function(){h&&h.remove()}}};a.fn.selection=function(a,c){if(void 0!==a)return this.each(function(){if(this.createTextRange){var e=this.createTextRange();void 0===c||a==c?e.move("character",a):(e.collapse(!0),e.moveStart("character",a),e.moveEnd("character",c));e.select()}else this.setSelectionRange?this.setSelectionRange(a,c):this.selectionStart&&(this.selectionStart=
a,this.selectionEnd=c)});var e=this[0];if(e.createTextRange){var f=document.selection.createRange(),j=e.value,r=f.text.length;f.text="<->";f=e.value.indexOf("<->");e.value=j;this.selection(f,f+r);return{start:f,end:f+r}}if(void 0!==e.selectionStart)return{start:e.selectionStart,end:e.selectionEnd}}})(jQuery);
(function(a){var b={className:"autosizejs",append:"",callback:!1},c="hidden",e="fontFamily fontSize fontWeight fontStyle letterSpacing textTransform wordSpacing textIndent".split(" "),f=a('<textarea tabindex="-1" style="position:absolute; top:-9999px; left:-9999px; right:auto; bottom:auto; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>')[0];f.setAttribute("oninput","return");
a.isFunction(f.oninput)||"onpropertychange"in f?(a(f).css("lineHeight","99px"),"99px"===a(f).css("lineHeight")&&e.push("lineHeight"),a.fn.autosize=function(f){f=a.extend({},b,f||{});return this.each(function(){function b(){var a,e,h;d||(d=!0,q.value=p.value+f.append,q.style.overflowY=p.style.overflowY,h=parseInt(p.style.height,10),q.style.width=m.css("width"),q.scrollTop=0,q.scrollTop=9E4,a=q.scrollTop,e=c,a>g?(a=g,e="scroll"):a<k&&(a=k),a+=n,p.style.overflowY=e,h!==a&&(p.style.height=a+"px",v&&f.callback.call(p)),
setTimeout(function(){d=!1},1))}var p=this,m=a(p),q,k=m.height(),g=parseInt(m.css("maxHeight"),10),d,h=e.length,u,n=0,l=p.value,v=a.isFunction(f.callback);if("border-box"===m.css("box-sizing")||"border-box"===m.css("-moz-box-sizing")||"border-box"===m.css("-webkit-box-sizing"))n=m.outerHeight()-m.height();if(!m.data("mirror")&&!m.data("ismirror")){q=a('<textarea tabindex="-1" style="position:absolute; top:-9999px; left:-9999px; right:auto; bottom:auto; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>').data("ismirror",
!0).addClass(f.className)[0];u="none"===m.css("resize")?"none":"horizontal";m.data("mirror",a(q)).css({overflow:c,overflowY:c,wordWrap:"break-word",resize:u});for(g=g&&0<g?g:9E4;h--;)q.style[e[h]]=m.css(e[h]);a("body").append(q);"onpropertychange"in p?"oninput"in p?p.oninput=p.onkeyup=b:p.onpropertychange=b:(p.oninput=b,p.value="",p.value=l);a(window).resize(b);m.bind("autosize",b);b()}})}):a.fn.autosize=function(){return this}})(jQuery);
(function(a){function b(b,c){var e=(a(window).width()-b)/2+a(window).scrollLeft(),g=(a(window).height()-c)/2+a(window).scrollTop();return{left:0>e?0:e,top:0>g?0:g}}function c(){j.hide().remove();p&&(clearTimeout(p),p=null)}function e(c){if(j&&!j.is(":visible"))p=null;else{var f=a("img",j);!f.attr("src")||/blank\.gif/.test(f.attr("src"))?strImgSrc=c.imgDir+"spin-1.png":(tab=f.attr("src").split(/[- .]+/),iImg=parseInt(tab[2]),iImg=12>iImg?iImg+1:1,strImgSrc=tab[0]+"-"+tab[1]+"-"+iImg+"."+tab[3]);c=
new Image;c.src=strImgSrc;var k=function(){j&&j.css(b(50,50));f.attr("src",strImgSrc);p=setTimeout(e,100)};c.complete?k():c.onload=k}}function f(a){if(!a)return!1;var b=a.split("/");return 1>b.length?a:b[b.length-1]}a.fn.fancyzoom=function(m){function q(d,c){c.showoverlay&&(g.appendTo("body").click(function(){k(c)}),a.browser.msie&&7>a.browser.version&&g.css({position:"absolute",height:a(document).height(),width:a(document).width()}));var e=c.oImgZoomBox;pos=d.offset();c=a.extend(c,{imgSrc:d,dimOri:{width:d.outerWidth(),
height:d.outerHeight(),left:pos.left,top:pos.top,opacity:1}});d.is("img")||(c.dimOri=a.extend(c.dimOri,{width:0,height:0}));e.css({"text-align":"center",border:"0px solid red"}).appendTo("body");var f=e.outerWidth(),l=e.outerHeight();dimBoxTarget=a.extend({},{width:f,height:l,opacity:1},b(f,l+30));c.oImgClose.css({left:dimBoxTarget.left+dimBoxTarget.width-15,top:dimBoxTarget.top-15});f=function(){a.fn.shadow&&(c.shadow&&!a.browser.msie)&&a("img:first",e).shadow(c.shadowOpts);0<c.Speed&&!a.browser.msie?
(c.oImgClose.fadeIn("slow"),a("div",e).fadeIn("slow")):(c.oImgClose.show(),a("div",e).show())};a("div",e).hide();c.imgSrc.is("img")&&c.imgSrc.css({opacity:0});a("img:first",e).css({width:"100%",height:"auto"});0<c.Speed?e.css(c.dimOri).animate(dimBoxTarget,c.Speed,f):(e.css(dimBoxTarget),f())}function k(b){var c=b.oImgZoomBox;b.oImgClose.remove();a("div",c).remove();var e=function(){c.empty().remove();b.imgSrc.css("opacity",1)};if(0<b.Speed){var k=c.offset(),k={width:1.15*c.width(),height:1.15*c.height(),
left:k.left-0.075*c.width(),top:k.top-0.075*c.height()};c.animate(k,0.2*b.Speed,function(){c.animate(b.dimOri,b.Speed,function(){e()});b.showoverlay&&g.animate({opacity:0},b.Speed,function(){a(this).remove()})})}else e(),b.showoverlay&&g.remove()}var g=a("<div>").css({height:"100%",width:"100%",position:"fixed",zIndex:100,left:0,top:0,cursor:"default"});return this.each(function(){var d=a(this),h=d.is("img")?d:0==a("img:first",d).length?d:a("img:first",d),u=null;d.attr("href")&&(u=d.attr("href"));
var n=a('<img class="jqfancyzoomclosebox">').css({position:"absolute",top:0,left:0,cursor:"pointer"}),l=a.extend({},a.fn.fancyzoom.defaultsOptions,m||{},{dimOri:{},oImgZoomBoxProp:{position:"absolute",left:0,top:0},oImgClose:n});if(h.is("img")){var v=a("<img src='"+l.imgDir+"zoom.png'>").css({position:"absolute",top:0,left:0});h.hover(function(){if(0!=h.css("opacity")){v.appendTo(h.parent()).hide();var b=h.position(),d=parseInt(h.css("margin-left").replace(/px/,"")),c=parseInt(h.css("margin-top").replace(/px/,
""));v.css({left:b.left+(d?d:0)-12,top:b.top+(c?c:0)-12}).show();a.fn.ifixpng&&v.ifixpng(l.imgDir+"blank.gif")}},function(){v.remove()})}d.is("img")&&(u=d.css("cursor","pointer").attr("src"),l.imgResizeScript&&u.match(RegExp("^"+l.imgResizeScript,"g"))&&(u=u.replace(/.*img=([^&]*).*/gi,"$1")));g.css({opacity:l.overlay,background:l.overlayColor});if(!/\.jpg|\.jpeg|\.png|\.gif/i.test(u))return!0;d.click(function(){var d=a("div.jqfancyzoombox");if(0<d.length)if(a("img:first",d).attr("src")!=u)j&&j.is(":visible")&&
(r=!0,c());else return!1;var s=a.extend({},l,m),v=a("img.jqfancyzoomclosebox");if(0<v.length){d=a("img:first",d);if(u==d.attr("src"))return pos=h.offset(),s=a.extend(s,{dimOri:{width:h.outerWidth(),height:h.outerHeight(),left:pos.left,top:pos.top,opacity:0}}),k(s),!1;v.trigger("click")}s.showoverlay&&g&&g.empty().remove().css({opacity:s.overlay});n.attr("src",s.imgDir+"closebox.png").appendTo("body").hide();a.fn.ifixpng&&(a.ifixpng(s.imgDir+"blank.gif"),n.ifixpng(s.imgDir+"blank.gif"));n.unbind("click").click(function(){k(s)});
var C=a('<div class="jqfancyzoombox"></div>').css(s.oImgZoomBoxProp),s=a.extend(s,{oImgZoomBox:C});if(v=h.attr("alt")){var v=a('<div><center><table height=0 border="0" cellspacing=0 cellpadding=0><tr><td></td><td class="fancyTitle">'+v+"</td><td></td></table></center></div>").css({marginTop:10,marginRight:15}),d=v.find("td:first").css({background:"url("+s.imgDir+"caption-l.png)",width:"13px",height:"26px"}),x=v.find("td:last").css({background:"url("+s.imgDir+"caption-r.png)",width:"13px",height:"26px"}),
K=a(".fancyTitle",v).css({background:"url("+s.imgDir+"caption-fill.png)",padding:"0px 20px",color:"#FFF","font-size":"14px"});a.fn.ifixpng&&(d.ifixpng(s.imgDir+"blank.gif"),x.ifixpng(s.imgDir+"blank.gif"),K.ifixpng(s.imgDir+"blank.gif"));v.appendTo(C)}var y=a("<img />").attr("src",u).click(function(){k(s)}).prependTo(C),v=l.imagezindex;g.css("zIndex",v-1);C.css("zIndex",v);n.css("zIndex",v+10);var w=new Image;w.src=u;var E=function(b){if(b){b=a("<div></div>").css({position:"absolute",top:0,left:0,
opacity:0,border:"0px solid red"});var d=!1;y.appendTo(b);b.appendTo("body");imWidth=y.width();imHeight=y.height();maxWidth=0.9*a(window).width();maxHeight=a(window).height()-100;maxHeight<imHeight?(d=!0,y.height(maxHeight),imWidth=imWidth*maxHeight/imHeight,y.width(imWidth),maxWidth<imWidth&&(y.width(maxWidth),y.height(imHeight*maxWidth/imWidth))):maxWidth<imWidth&&(d=!0,y.width(maxWidth),y.height(imHeight*maxWidth/imWidth));if(d&&s.imgResizeScript){var d=y.width(),c=y.height(),g=d,e=[1440,1280,
1024,800,640,480,360];for(i=0;i<e.length;i++)if(d>e[i]){g=e[i];break}y.width(g);y.height(parseInt(c*g/d));d="img="+encodeURI(y.attr("src"));d+="&width="+y.width();d+="&height="+y.height();y.attr("src",s.imgResizeScript+"?"+d)}b.remove()}y.prependTo(C)};if(w.complete)E(s.autoresize),q(h,s);else{var A=s;j||(j=a("<div></div>").css({width:50,height:50,position:"absolute",background:"transparent",opacity:0.8,color:"#FFF",padding:"5px","font-size":"10px"}));j.css(b(50,50)).html('<img src="'+A.imgDir+'blank.gif" />').click(function(){r=
!0;c()}).appendTo("body").show();p=setTimeout(function(){e(A)},400);w.onload=function(){r?r=!1:f(w.src)==f(a("img:first",C).attr("src"))&&(E(s.autoresize),q(h,s),c())}}return!1})})};a.fn.fancyzoom.defaultsOptions={overlayColor:"#000",overlay:0.6,imagezindex:100,showoverlay:!0,Speed:400,shadow:!0,shadowOpts:{color:"#000",offset:4,opacity:0.2},imgDir:"/images/fancyzoom/",imgResizeScript:null,autoresize:!0};var j=null,r=!1,p=null})(jQuery);
(function(a){a.fn.fcbkcomplete=function(b){return this.queue(function(){function c(b,d,c,j,n){if(!k())return!1;j="bit-box"+(j?" locked":"");var m;m="";for(var p=0;32>p;p++){var s=Math.floor(61*Math.random());m+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".substring(s,s+1)}s=document.createTextNode(h(b));p=a('<a class="closebutton" href="#"></a>');j=a('<li class="'+j+'" rel="'+d+'" id="pt_'+m+'"></li>').prepend(s).append(p);v.append(j);p.click(function(){e(a(this).parent("li"));
return!1});c||(a("#"+E+"_annoninput").remove(),f(n),b=a('<option value="'+h(d,1)+'" id="opt_'+m+'" class="selected" selected="selected">'+h(b)+"</option>"),w.append(b),l.onselect&&g(l.onselect,b),w.change());v.children("li.bit-box.deleted").removeClass("deleted");u(1);return m}function e(b){if(!b.hasClass("locked")){b.fadeOut("fast");var d=b.attr("id");if(l.onremove){var c=d?a("#o"+d+""):w.children("option[value="+b.attr("rel")+"]");g(l.onremove,c)}d?a("#o"+d+"").remove():w.children('option[value="'+
b.attr("rel")+'"]').remove();b.remove();w.change();K=0}}function f(b){var h=a('<li class="bit-input" id="'+E+'_annoninput">'),f=a('<input type="text" class="maininput" size="'+l.input_min_size+'" autocomplete="off">');0<l.input_tabindex&&f.attr("tabindex",l.input_tabindex);""!=l.input_name&&f.attr("name",l.input_name);v.append(h.append(f));f.focus(function(){C=!0;k()&&s.fadeIn("fast")});f.blur(function(){C=!1;y?s.fadeOut("fast"):f.focus()});v.click(function(){0>l.input_min_size&&t.length&&n(d(f.val(),
1));f.focus();t.length&&f.val().length>l.input_min_size?t.show():(u(1),s.children(".default").show())});f.keypress(function(a){if(a.keyCode==z.enter)return!1;a=l.input_min_size>f.val().length?l.input_min_size:f.val().length+1;f.attr("size",a).width(parseInt(f.css("font-size"))*a)});f.keyup(function(b){if(","==f.val().substr(-1)){var g=d(f.val().substr(0,f.val().length-1));c(g,g,0,0,1);return q(b)}g=d(f.val(),1);if(b.keyCode==z.backspace&&0==g.length&&(u(1),!v.children("li.bit-box:last").hasClass("locked"))){if(0==
v.children("li.bit-box.deleted").length)return v.children("li.bit-box:last").addClass("deleted"),!1;if(K)return;K=1;v.children("li.bit-box.deleted").fadeOut("fast",function(){e(a(this));return!1})}b.keyCode!=z.downarrow&&(b.keyCode!=z.uparrow&&b.keyCode!=z.leftarrow&&b.keyCode!=z.rightarrow&&g.length>l.input_min_size)&&(n(g),s.children(".default").hide(),t.show())});l.oncreate&&g(l.oncreate,f);b&&setTimeout(function(){f.focus();s.children(".default").show()},1)}function j(b,c){t.html("");!l.cache&&
null!=c&&G.clear();if(l.newel&&k()&&(t.children("li[fckb=1]").remove(),0!=b.length)){var g=a('<li rel="'+b+'" fckb="1">').html(h(b));t.prepend(g);D++}null!=c&&c.length&&a.each(c,function(a,b){G.set(d(b.key),d(b.value))});var e=l.maxshownitems<G.length()?l.maxshownitems:G.length(),f="";a.each(G.search(b),function(a,d){if(e&&(!l.filter_selected||!w.children('option[value="'+d.key+'"]').hasClass("selected"))){var c=f,g='<li rel="'+d.key+'">',k=d.value,j=l.filter_begin?"<em>$1</em>$2":"$1<em>$2</em>$3",
n=(l.filter_begin?"":"(.*)")+(l.filter_case?"("+b+")(.*)":"("+b.toLowerCase()+")(.*)");try{k=k.replace(RegExp(n,l.filter_case?"g":"gi"),j)}catch(m){}f=c+(g+h(k)+"</li>");D++;e--}});t.append(f);l.firstselected&&(x=t.children("li:visible:first"),x.addClass("auto-focus"));D>l.height?t.css({height:24*l.height+"px",overflow:"auto"}):t.css("height","auto");k()&&s.is(":hidden")&&s.show()}function r(){t.children("li").mouseover(function(){t.children("li").removeClass("auto-focus");x=a(this);x.addClass("auto-focus")});
t.children("li").mouseout(function(){a(this).removeClass("auto-focus");x=null})}function p(){var b=a("#"+E+"_annoninput").children(".maininput");r();t.children("li").unbind("mousedown").mousedown(function(){var b=a(this);c(b.text(),b.attr("rel"),0,0,1);u(1);s.hide()});b.unbind("keydown");b.keydown(function(b){b.keyCode!=z.backspace&&v.children("li.bit-box.deleted").removeClass("deleted");if((b.keyCode==z.enter||b.keyCode==z.tab)&&!(null==x||0==x.length)){var g=x;c(g.text(),g.attr("rel"),0,0,1);return q(b)}if((b.keyCode==
z.enter||b.keyCode==z.tab)&&(null==x||0==x.length)){if(l.newel)return g=d(a(this).val()),c(g,g,0,0,1),q(b);if((l.addontab||l.addoncomma)&&l.newel)return g=x=t.children("li:visible:first"),c(g.text(),g.attr("rel"),0,0,1),q(b)}b.keyCode==z.downarrow&&m("first");b.keyCode==z.uparrow&&m("last")})}function m(a){t.unbind("mouseover").unbind("mouseout").mousemove(function(){r();t.unbind("mousemove")});if(null==x||0==x.length)x=t.children("li:visible:"+a),t.get(0).scrollTop="first"==a?0:parseInt(x.get(0).scrollHeight,
10)*(parseInt(t.children("li:visible").length,10)-Math.round(l.height/2));else{x.removeClass("auto-focus");x="first"==a?x.nextAll("li:visible:first"):x.prevAll("li:visible:first");var b=parseInt(x.prevAll("li:visible").length,10),d=parseInt(x.nextAll("li:visible").length,10);if((("first"==a?b:d)>Math.round(l.height/2)||("first"==a?b:d)<=Math.round(l.height/2))&&"undefined"!=typeof x.get(0))t.get(0).scrollTop=parseInt(x.get(0).scrollHeight,10)*(b-Math.round(l.height/2))}t.children("li").removeClass("auto-focus");
x.addClass("auto-focus")}function q(a){s.hide();a.preventDefault();x=null;return!1}function k(){return 0!=l.maxitems&&v.children("li.bit-box").length<l.maxitems}function g(a,b){var d={};for(i=0;i<b.get(0).attributes.length;i++)null!=b.get(0).attributes[i].nodeValue&&(d["_"+b.get(0).attributes[i].nodeName]=b.get(0).attributes[i].nodeValue);return a.call(a,d)}function d(a,b){if("undefined"!=typeof b){for(i=0;i<a.length;i++){var d=a.charCodeAt(i);if(z.exclamation<=d&&d<=z.slash||z.colon<=d&&d<=z.at||
z.squarebricket_left<=d&&d<=z.apostrof)a=a.replace(a[i],escape(a[i]))}a=a.replace(/(\{|\}|\*)/i,"\\$1")}return a.replace(/script(.*)/g,"")}function h(a,b){a=a.toString();a=a.replace("\\","");return"undefined"!=typeof b?a:unescape(a)}function u(a){t.children().remove();a&&t.hide()}function n(b){D=0;if(l.json_url&&k())if(l.cache&&I.get(b))j(b),p();else{A++;var d=A;setTimeout(function(){d==A&&a.getJSON(l.json_url,{tag:h(b)},function(a){C&&(j(b,a),I.set(b,1),p())})},l.delay)}else j(b),p()}var l=a.extend({json_url:null,
width:512,cache:!1,height:"10",newel:!1,addontab:!1,addoncomma:!1,firstselected:!1,filter_case:!1,filter_selected:!1,filter_begin:!1,complete_text:"Start to type...",select_all_text:null,maxshownitems:30,maxitems:10,oncreate:null,onselect:null,onremove:null,attachto:null,delay:350,input_tabindex:0,input_min_size:1,input_name:"",bricket:!0},b),v=null,t=null,s=null,D=0,C=!1,x=null,K=0,y=1,w=a(this),E=w.attr("id"),A=0,I={set:function(a,b){var d=w.data("jsoncache");d[a]=b;w.data("jsoncache",d)},get:function(a){return"undefined"!=
w.data("jsoncache")[a]?w.data("jsoncache")[a]:null},init:function(){w.data("jsoncache",{})}},z={enter:13,tab:9,comma:188,backspace:8,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,exclamation:33,slash:47,colon:58,at:64,squarebricket_left:91,apostrof:96},G={search:function(b){var d=[],c=RegExp((l.filter_begin?"^":"")+b,l.filter_case?"g":"gi");a.each(w.data("cache"),function(a,b){"function"===typeof b.search&&-1!=b.search(c)&&d.push({key:a,value:b})});return d},set:function(a,b){var d=w.data("cache");
d[a]=b;w.data("cache",d)},get:function(a){return"undefined"!=w.data("cache")[a]?w.data("cache")[a]:null},clear:function(){w.data("cache",{})},length:function(){if("object"==typeof w.data("cache")){var a=0;for(i in w.data("cache"))a++;return a}return w.data("cache").length},init:function(){"undefined"==w.data("cache")&&w.data("cache",{})}},v=a('<ul class="holder"></ul>').width(l.width);l.attachto?"object"==typeof l.attachto?l.attachto.append(v):a(l.attachto).append(v):w.after(v);s=a('<div class="facebook-auto">').width(l.width+
10);""!=l.complete_text&&(s.append('<div class="default">'+l.complete_text+"</div>"),l.select_all_text&&s.children(".default").append(a('<a href="" class="select_all_items">'+l.select_all_text+"</a>").click(function(){a(w).trigger("selectAll");return!1})));s.hover(function(){y=0},function(){y=1});t=a('<ul id="'+E+'_feed"></ul>').width(l.width+10);v.after(s.prepend(t));name=w.attr("name");l.bricket&&"undefined"!=typeof name&&-1==name.indexOf("[]")&&(name+="[]");var J=a("<"+w.get(0).tagName+' name="'+
name+'" id="'+E+'" multiple="multiple" class="'+w.get(0).className+' hidden">').data("cache",{});a.each(w.children("option"),function(b,d){d=a(d);J.data("cache")[d.val()]=d.text();if(d.hasClass("selected")){var g=c(d.text(),d.val(),!0,d.hasClass("locked"));J.append('<option value="'+d.val()+'" selected="selected" id="opt_'+g+'"class="selected">'+d.text()+"</option>")}});w.after(J);w.remove();w=J;a(w).bind("addItem",function(a,b){c(b.title,b.value,0,0,0)});a(w).bind("removeItem",function(a,b){var d=
v.children("li[rel="+b.value+"]");d.length&&e(d)});a(w).bind("destroy",function(){v.remove();s.remove();w.show()});a(w).bind("selectAll",function(){var b=a(w).val()||[];a.each(a(w).data("cache"),function(d,g){-1===a.inArray(d,b)&&c(g,d,0,0,0)});t.parent().hide()});f(0);I.init();G.init();return this})}})(jQuery);
(function(a){a.fn.iframePostForm=function(b){var c,e,f,j=!0,r;b=a.extend({},a.fn.iframePostForm.defaults,b);a("#"+b.iframeID).length||a("body").append('<iframe id="'+b.iframeID+'" name="'+b.iframeID+'" style="display:none" />');return a(this).each(function(){f=a(this);f.attr("target",b.iframeID);f.submit(function(){j=b.post.apply(this);if(!1===j)return j;r=a("#"+b.iframeID).load(function(){c=r.contents().find("body");e=b.json?a.parseJSON(c.html()):c.html();b.complete.apply(this,[e]);r.unbind("load");
setTimeout(function(){c.html("")},1)})})})};a.fn.iframePostForm.defaults={iframeID:"iframe-post-form",json:!1,post:function(){},complete:function(){}}})(jQuery);
(function(a,b,c,e){function f(b,c){this.element=b;this.options=a.extend({},r,c);this._defaults=r;this._name="ikSelect";if(this.element===e)return this;this.fakeSelect=a('<div class="ik_select">'+this.options.syntax+"</div>");this.select=a(this.element);this.link=a(".ik_select_link",this.fakeSelect);this.linkText=a(".ik_select_link_text",this.fakeSelect);this.block=a(".ik_select_block",this.fakeSelect);this.list=a(".ik_select_list",this.fakeSelect);this.listInner=a('<div class="ik_select_list_inner"/>');
this.active=a([]);this.hover=a([]);this.init()}var j=a(b),r={syntax:'<div class="ik_select_link"><span class="ik_select_link_text"></span></div><div class="ik_select_block"><div class="ik_select_list"></div></div>',autoWidth:!0,ddFullWidth:!0,customClass:"",ddCustomClass:"",ddMaxHeight:200},p=a([]),m=!1,q=-1;a.browser.mobile=/iphone|ipad|ipod|android/i.test(navigator.userAgent.toLowerCase());a.browser.android=/android/i.test(navigator.userAgent.toLowerCase());a.browser.operamini="[object OperaMini]"===
Object.prototype.toString.call(b.operamini);a.extend(f.prototype,{init:function(){var b=this,c=b.fakeSelect,d=b.select,e=b.link,f=b.block,n=b.list;n.append(b.listInner);c.addClass(b.options.customClass);f.addClass(b.options.ddCustomClass);b.reset();d.attr("disabled")&&b.disable_select();e.bind("click.ikSelect",function(){if(c.data("ik_select_disabled"))return this;p.length&&p.data("plugin_ikSelect").hide_block();a.browser.mobile||b.show_block();d.focus()});d.bind("focus.ikSelect",function(){if(c.data("ik_select_disabled"))return this;
e.addClass("ik_select_focus");(c.offset().top+c.height()>j.scrollTop()+j.height()||c.offset().top+c.height()<j.scrollTop())&&j.scrollTop(c.offset().top-j.height()/2)});d.bind("blur.ikSelect",function(){if(c.data("ik_select_disabled"))return this;e.removeClass("ik_select_focus")});d.bind("change.ikSelect",function(){b._select_fake_option()});d.bind("keydown.ikSelect keyup.ikSelect",function(d){var c=b.hover,g=d.type;switch(d.which){case 40:if("keydown"===g){d.preventDefault();var e;if(c.next("li").length)for(e=
c.next("li");e.hasClass("ik_select_option_disabled");)e=e.next();if((!e||!e.length)&&c.parents(".ik_select_optgroup").next().length){for(e=c.parents(".ik_select_optgroup").next();e.length&&!e.find("li:not(.ik_select_option_disabled)").length;)e=e.next();e=e.find("li:not(.ik_select_option_disabled):first")}e&&e.length&&b._move_to(e)}break;case 38:if("keydown"===g){d.preventDefault();var h;if(c.prev("li").length)for(h=c.prev("li");h.hasClass("ik_select_option_disabled");)h=h.prev();if((!h||!h.length)&&
c.parents(".ik_select_optgroup").prev().length){for(h=c.parents(".ik_select_optgroup").prev();h.length&&!h.find("li:not(.ik_select_option_disabled)").length;)h=h.prev();h=h.find("li:last")}h&&h.length&&b._move_to(h)}break;case 33:case 36:"keydown"===g&&(d.preventDefault(),b._move_to(a("li:first",n)));break;case 34:case 35:"keydown"===g&&(d.preventDefault(),b._move_to(a("li:last",n)));break;case 32:"keydown"===g&&(d.preventDefault(),f.is(":visible")?b._select_real_option():b.show_block());break;case 13:"keydown"===
g&&f.is(":visible")&&(d.preventDefault(),b._select_real_option());break;case 27:"keydown"===g&&(d.preventDefault(),b.hide_block());break;case 9:"keydown"===g&&(a.browser.webkit&&f.is(":visible")?d.preventDefault():b.hide_block());break;default:"keyup"===g&&b._select_fake_option()}});d.after(c);b.redraw();d.prependTo(c);f.data("ik_select_block_left",f.css("left"));f.data("ik_select_block_top",f.css("top"))},redraw:function(){var b=this.select,c=this.fakeSelect,d=this.block,e=this.list,f=this.listInner,
j=this.options.autoWidth,l=this.options.ddFullWidth;if(j||l){f.width("auto");a("ul",f).width("auto");c.width("auto");d.show().width(9999);f.css("float","left");e.css("position","absolute");var m=e.outerWidth(!0),p=e.width();e.css("position","static");d.hide().css("width","100%");f.css("float","none");if(-1===q){e=a('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');a("body").append(e);var s=a("div",e).innerWidth();e.css("overflow",
"auto");var r=a("div",e).innerWidth();a(e).remove();q=s-r}e=c.parent().width();l&&(d.width(m),f.width(p),a("ul",f).width(p));m>e&&(m=e);j&&c.width(m)}this._fix_height();a.browser.mobile||(b.width(1),b.css({left:-9999,top:0,height:c.height()}))},reset:function(){var b=this.select,c=this.listInner;this.linkText.html(b.html());c.empty();var d="",e=a("optgroup",b);e.length?e.each(function(){d+='<div class="ik_select_optgroup'+(a(this).is(":disabled")?" ik_select_optgroup_disabled":"")+'">';d+='<div class="ik_select_optgroup_label">'+
a(this).attr("label")+"</div>";d+="<ul>";a("option",this).each(function(){d+="<li"+(a(this).is(":disabled")?' class="ik_select_option_disabled"':"")+'><span class="ik_select_option" title="'+a(this).val()+'">'+a(this).html()+"</span></li>"});d+="</ul>";d+="</div>"}):(d+="<ul>",a("option",b).each(function(){d+="<li"+(a(this).is(":disabled")?' class="ik_select_option_disabled"':"")+'><span class="ik_select_option" title="'+a(this).val()+'">'+a(this).html()+"</span></li>"}),d+="</ul>");c.append(d);this._select_fake_option();
this._attach_list_events(a("li:not(.ik_select_option_disabled)",c))},_attach_list_events:function(b){var c=this,d=c.select,e=c.linkText;b.bind("click.ikSelect",function(){e.html(a(".ik_select_option",this).html());d.val(a(".ik_select_option",this).attr("title"));c.active.removeClass("ik_select_active");c.active=a(this).addClass("ik_select_active");c.hide_block();d.change();d.focus()});b.bind("mouseover.ikSelect",function(){c.hover.removeClass("ik_select_hover");c.hover=a(this).addClass("ik_select_hover")});
b.addClass("ik_select_has_events")},_detach_list_events:function(a){a.unbind(".ikSelect");a.removeClass("ik_select_has_events")},set_defaults:function(b){a.extend(this._defaults,b||{});return this},hide_block:function(){var b=this.fakeSelect,c=this.block,d=this.select;c.hide().appendTo(b).css({left:c.data("ik_select_block_left"),top:c.data("ik_select_block_top")});p=a([]);d.focus()},show_block:function(){var b=this.select;if(a.browser.mobile&&!a.browser.android)return b.focus(),this;if(p.is(this.select))return this;
p.length&&p.data("plugin_ikSelect").hide_block();var c=this.fakeSelect,d=this.block,e=this.list,f=this.listInner,n=this.hover,l=this.active;d.show();var m=a("option",b).index(a("option:selected",b));n.removeClass("ik_select_hover");l.removeClass("ik_select_active");n=a("li:eq("+m+")",e);n.addClass("ik_select_hover ik_select_active");this.active=this.hover=n;d.removeClass("ik_select_block_right");d.css("left",d.data("ik_select_block_left"));this.options.ddFullWidth&&c.offset().left+d.outerWidth(!0)>
j.width()&&(d.addClass("ik_select_block_right"),d.css("left",-1*(d.offset().left+d.outerWidth(!0)-j.width())));d.removeClass("ik_select_block_up");d.css("top",d.data("ik_select_block_top"));d.offset().top+d.outerHeight(!0)>j.scrollTop()+j.height()&&(d.addClass("ik_select_block_up"),d.css("top",-1*(d.offset().top+d.outerHeight(!0)-parseInt(d.data("ik_select_block_top"),10)-(j.scrollTop()+j.height()))));c=d.offset().left;n=d.offset().top;d.width(d.width());d.appendTo("body").css({left:c,top:n});d=a(".ik_select_active",
e).position().top-e.height()/2;e.data("ik_select_scrollTop",d);f.scrollTop(d);p=b},add_options:function(b){var c=this.select,d=this.list,e=this.listInner,f="",j="";a.each(b,function(b,e){if("string"===typeof e)f+='<li><span class="ik_select_option" title="'+b+'">'+e+"</span></li>",j+='<option value="'+b+'">'+e+"</option>";else if("object"===typeof e){var h=a("ul:eq("+b+")",d),k=a("optgroup:eq("+b+")",c);a.each(e,function(a,b){f+='<li><span class="ik_select_option" title="'+a+'">'+b+"</span></li>";
j+='<option value="'+a+'">'+b+"</option>"});h.append(f);k.append(j);j=f=""}});""!==j&&(a(":first",e).append(f),c.append(j));this._fix_height();this._attach_list_events(a("li:not(.ik_select_has_events)",e))},remove_options:function(b){var c=this.select,d=this.list,e=a([]);a.each(b,function(b,f){a("option",c).each(function(b){a(this).val()===f&&(e=e.add(a(this)).add(a("li:eq("+b+")",d)))})});e.remove();this._select_fake_option();this._fix_height()},_select_real_option:function(){var a=this.hover;this.active.removeClass("ik_select_active");
a.addClass("ik_select_active").click()},_select_fake_option:function(){var b=this.select,c=this.list,d=this.linkText,e=a(":selected",b),b=a("option",b).index(e);d.html(e.html());this.active=this.hover=a("li",c).removeClass("ik_select_hover ik_select_active").eq(b).addClass("ik_select_hover ik_select_active")},disable_select:function(){var a=this.fakeSelect;this.select.attr("disabled","disabled");a.addClass("ik_select_disabled").data("ik_select_disabled",!0)},enable_select:function(){var a=this.fakeSelect;
this.select.removeAttr("disabled");a.removeClass("ik_select_disabled").data("ik_select_disabled",!1)},toggle_select:function(){this.fakeSelect.data("ik_select_disabled")?this.enable_select():this.disable_select()},make_selection:function(a){this.select.val(a);this._select_fake_option()},disable_optgroups:function(b){var c=this,d=c.select,e=c.list;a.each(b,function(b,f){var j=a("optgroup:eq("+f+")",d);j.attr("disabled","disabled");a(".ik_select_optgroup:eq("+f+")",e).addClass("ik_select_optgroup_disabled");
c.disable_options(a("option",j))});c._select_fake_option()},enable_optgroups:function(b){var c=this,d=c.select,e=c.list;a.each(b,function(b,f){var j=a("optgroup:eq("+f+")",d);j.removeAttr("disabled");a(".ik_select_optgroup:eq("+f+")",e).removeClass("ik_select_optgroup_disabled");c.enable_options(a("option",j))});c._select_fake_option()},disable_options:function(b){var c=this,d=c.list,e=a("option",c.select);a.each(b,function(b,f){if("object"===typeof f){a(this).attr("disabled","disabled");var j=e.index(this),
j=a("li:eq("+j+")",d).addClass("ik_select_option_disabled");c._detach_list_events(j)}else e.each(function(b){if(a(this).val()===f)return a(this).attr("disabled","disabled"),b=a("li:eq("+b+")",d).addClass("ik_select_option_disabled"),c._detach_list_events(b),this})});c._select_fake_option()},enable_options:function(b){var c=this,d=c.list,e=a("option",c.select);a.each(b,function(b,f){if("object"===typeof f){a(this).removeAttr("disabled");var j=e.index(this),j=a("li:eq("+j+")",d).removeClass("ik_select_option_disabled");
c._attach_list_events(j)}else e.each(function(b){if(a(this).val()===f)return a(this).removeAttr("disabled"),b=a("li:eq("+b+")",d).removeClass("ik_select_option_disabled"),c._attach_list_events(b),this})});c._select_fake_option()},detach_plugin:function(){var a=this.select,b=this.fakeSelect;a.unbind(".ikSelect").css({width:"",height:"",left:"",top:""});b.before(a);b.remove()},_move_to:function(b){var c=this.select,d=this.block,e=this.linkText;if(!d.is(":visible")&&a.browser.webkit)return this.show_block(),
this;this.hover.removeClass("ik_select_hover");b.addClass("ik_select_hover");this.hover=b;a.browser.webkit||(this.active.removeClass("ik_select_active"),b.addClass("ik_select_active"),this.active=b);if(!d.is(":visible")||a.browser.mozilla)a.browser.mozilla||(c.val(a(".ik_select_option",b).attr("title")),c.change()),e.html(a(".ik_select_option",b).html())},_fix_height:function(){var b=this.block,c=this.listInner,d=this.options.ddMaxHeight,e=this.options.ddFullWidth;b.show();c.css("height","auto");
c.height()>d?(c.css({overflow:"auto",height:d,position:"relative"}),!a.data(c,"ik_select_hasScrollbar")&&e&&(b.width(b.width()+q),c.width(c.width()+q)),a.data(c,"ik_select_hasScrollbar",!0)):a.data(c,"ik_select_hasScrollbar")&&(c.css({overflow:"",height:"auto"}),c.width(c.width()-q),b.width(b.width()-q));b.hide()}});a.fn.ikSelect=function(b){if(a.browser.operamini)return this;var c=Array.prototype.slice.call(arguments);return this.each(function(){if(a.data(this,"plugin_ikSelect")){if("string"===typeof b){var d=
a.data(this,"plugin_ikSelect");switch(b){case "reset":d.reset();break;case "hide_dropdown":d.hide_block();break;case "show_dropdown":m=!0;d.show_block();break;case "add_options":d.add_options(c[1]);break;case "remove_options":d.remove_options(c[1]);break;case "enable":d.enable_select();break;case "disable":d.disable_select();break;case "toggle":d.toggle_select();break;case "select":d.make_selection(c[1]);break;case "set_defaults":d.set_defaults(c[1]);break;case "redraw":d.redraw();break;case "disable_options":d.disable_options(c[1]);
break;case "enable_options":d.enable_options(c[1]);break;case "disable_optgroups":d.disable_optgroups(c[1]);break;case "enable_optgroups":d.enable_optgroups(c[1]);break;case "detach":d.detach_plugin()}}}else a.data(this,"plugin_ikSelect",new f(this,b))})};a.ikSelect=new f;a(c).bind("click.ikSelect",function(b){!m&&(p.length&&!a(b.target).parents(".ik_select").length)&&(p.ikSelect("hide_dropdown"),p=a([]));m&&(m=!1)})})(jQuery,window,document);
(function(a){a.fn.uploadProgress=function(b){b=a.extend({dataType:"json",interval:2E3,progressBar:"#progressbar",progressUrl:"/progress",start:function(){},uploading:function(){},complete:function(){},success:function(){},error:function(){},preloadImages:[],uploadProgressPath:"/javascripts/jquery.uploadProgress.js",jqueryPath:"/javascripts/jquery.js",timer:""},b);a(function(){for(var c=0;c<b.preloadImages.length;c++)b.preloadImages[c]=a("<img>").attr("src",b.preloadImages[c]);if(a.browser.safari&&
top.document==document){iframe=document.createElement("iframe");iframe.name="progressFrame";a(iframe).css({width:"0",height:"0",position:"absolute",top:"-3000px"});document.body.appendChild(iframe);var e=iframe.contentWindow.document;e.open();e.write("<html><head></head><body></body></html>");e.close();var f=e.body,c=e.createElement("script");c.src=b.jqueryPath;c.onload=function(){var a=e.createElement("script");a.src=b.uploadProgressPath;f.appendChild(a)};f.appendChild(c)}});a(this).bind("submit",
function(){a(b.progressBar).css("width","100%");var c="";for(i=0;32>i;i++)c+=Math.floor(16*Math.random()).toString(16);b.uuid=c;b.start();(old_id=/X-Progress-ID=([^&]+)/.exec(a(this).attr("action")))?(c=a(this).attr("action").replace(old_id[1],c),a(this).attr("action",c)):a(this).attr("action",jQuery(this).attr("action")+"?X-Progress-ID="+c);var e=a.browser.safari?progressFrame.jQuery.uploadProgress:jQuery.uploadProgress;b.timer||(b.timer=window.setInterval(function(){e(this,b)},b.interval))})};jQuery.uploadProgress=
function(b,c){jQuery.ajax({type:"GET",url:c.progressUrl+"?X-Progress-ID="+c.uuid,dataType:c.dataType,success:function(b){"uploading"==b.state&&(b.percents=Math.floor(1E3*(b.received/b.size))/10,(a.browser.safari?a(c.progressBar,parent.document):a(c.progressBar)).css({width:100-b.percents+"%"}),c.uploading(b));if("done"==b.state||"error"==b.state)window.clearTimeout(c.timer),c.timer="",c.complete(b);"done"==b.state&&c.success(b);"error"==b.state&&c.error(b)}})}})(jQuery);
(function(a){a.fn.slides=function(b){return b=a.extend({},a.fn.slides.option,b),this.each(function(){function c(c,e,g){if(!v&&l){v=!0;b.animationStart(n+1);switch(c){case "next":h=n;d=n+1;d=r===d?0:d;s=2*p;c=2*-p;n=d;break;case "prev":h=n;d=n-1;d=-1===d?r-1:d;c=s=0;n=d;break;case "pagination":d=parseInt(g,10),h=a("."+b.paginationClass+" li."+b.currentClass+" a",f).attr("href").match("[^#/]+$"),d>h?(s=2*p,c=2*-p):(s=0,c=0),n=d}"fade"===e?b.crossfade?j.children(":eq("+d+")",f).css({zIndex:10}).fadeIn(b.fadeSpeed,
b.fadeEasing,function(){b.autoHeight?j.animate({height:j.children(":eq("+d+")",f).outerHeight()},b.autoHeightSpeed,function(){j.children(":eq("+h+")",f).css({display:"none",zIndex:0});j.children(":eq("+d+")",f).css({zIndex:0});b.animationComplete(d+1);v=!1}):(j.children(":eq("+h+")",f).css({display:"none",zIndex:0}),j.children(":eq("+d+")",f).css({zIndex:0}),b.animationComplete(d+1),v=!1)}):j.children(":eq("+h+")",f).fadeOut(b.fadeSpeed,b.fadeEasing,function(){b.autoHeight?j.animate({height:j.children(":eq("+
d+")",f).outerHeight()},b.autoHeightSpeed,function(){j.children(":eq("+d+")",f).fadeIn(b.fadeSpeed,b.fadeEasing)}):j.children(":eq("+d+")",f).fadeIn(b.fadeSpeed,b.fadeEasing,function(){a.browser.msie&&a(this).get(0).style.removeAttribute("filter")});b.animationComplete(d+1);v=!1}):(j.children(":eq("+d+")").css({left:s,display:"block"}),b.autoHeight?j.animate({left:c,height:j.children(":eq("+d+")").outerHeight()},b.slideSpeed,b.slideEasing,function(){j.css({left:-p});j.children(":eq("+d+")").css({left:p,
zIndex:5});j.children(":eq("+h+")").css({left:p,display:"none",zIndex:0});b.animationComplete(d+1);v=!1}):j.animate({left:c},b.slideSpeed,b.slideEasing,function(){j.css({left:-p});j.children(":eq("+d+")").css({left:p,zIndex:5});j.children(":eq("+h+")").css({left:p,display:"none",zIndex:0});b.animationComplete(d+1);v=!1}));b.pagination&&(a("."+b.paginationClass+" li."+b.currentClass,f).removeClass(b.currentClass),a("."+b.paginationClass+" li:eq("+d+")",f).addClass(b.currentClass))}}function e(){b.pause?
(clearTimeout(f.data("pause")),clearInterval(f.data("interval")),C=setTimeout(function(){clearTimeout(f.data("pause"));x=setInterval(function(){c("next",k)},b.play);f.data("interval",x)},b.pause),f.data("pause",C)):clearInterval(f.data("interval"))}a("."+b.container,a(this)).children().wrapAll('<div class="slides_control"/>');var f=a(this),j=a(".slides_control",f),r=j.children().size(),p=j.children().outerWidth(),m=j.children().outerHeight(),q=b.start-1,k=0>b.effect.indexOf(",")?b.effect:b.effect.replace(" ",
"").split(",")[0],g=0>b.effect.indexOf(",")?k:b.effect.replace(" ","").split(",")[1],d=0,h=0,u=0,n=0,l,v,t,s,D,C,x;if(2>r)return a("."+b.container,a(this)).fadeIn(b.fadeSpeed,b.fadeEasing,function(){l=!0;b.slidesLoaded()}),a("."+b.next+", ."+b.prev).fadeOut(0),!1;2>r||(0>q&&(q=0),q>r&&(q=r-1),b.start&&(n=q),b.randomize&&j.randomize(),a("."+b.container,f).css({overflow:"hidden",position:"relative"}),j.children().css({position:"absolute",top:0,left:j.children().outerWidth(),zIndex:0,display:"none"}),
j.css({position:"relative",width:3*p,height:m,left:-p}),a("."+b.container,f).css({display:"block"}),b.autoHeight&&(j.children().css({height:"auto"}),j.animate({height:j.children(":eq("+q+")").outerHeight()},b.autoHeightSpeed)),b.preload&&j.find("img:eq("+q+")").length?(a("."+b.container,f).css({background:"url("+b.preloadImage+") no-repeat 50% 50%"}),m=j.find("img:eq("+q+")").attr("src")+"?"+(new Date).getTime(),"slides_control"!=a("img",f).parent().attr("class")?D=j.children(":eq(0)")[0].tagName.toLowerCase():
D=j.find("img:eq("+q+")"),j.find("img:eq("+q+")").attr("src",m).load(function(){j.find(D+":eq("+q+")").fadeIn(b.fadeSpeed,b.fadeEasing,function(){a(this).css({zIndex:5});a("."+b.container,f).css({background:""});l=!0;b.slidesLoaded()})})):j.children(":eq("+q+")").fadeIn(b.fadeSpeed,b.fadeEasing,function(){l=!0;b.slidesLoaded()}),b.bigTarget&&(j.children().css({cursor:"pointer"}),j.children().click(function(){return c("next",k),!1})),b.hoverPause&&b.play&&(j.bind("mouseover",function(){clearInterval(f.data("interval"))}),
j.bind("mouseleave",function(){e()})),b.generateNextPrev&&(a("."+b.container,f).after('<a href="#" class="'+b.prev+'">Prev</a>'),a("."+b.prev,f).after('<a href="#" class="'+b.next+'">Next</a>')),a("."+b.next,f).click(function(a){a.preventDefault();b.play&&e();c("next",k)}),a("."+b.prev,f).click(function(a){a.preventDefault();b.play&&e();c("prev",k)}),b.generatePagination?(b.prependPagination?f.prepend("<ul class="+b.paginationClass+"></ul>"):f.append("<ul class="+b.paginationClass+"></ul>"),j.children().each(function(){a("."+
b.paginationClass,f).append('<li><a href="#'+u+'">'+(u+1)+"</a></li>");u++})):a("."+b.paginationClass+" li a",f).each(function(){a(this).attr("href","#"+u);u++}),a("."+b.paginationClass+" li:eq("+q+")",f).addClass(b.currentClass),a("."+b.paginationClass+" li a",f).click(function(){return b.play&&e(),t=a(this).attr("href").match("[^#/]+$"),n!=t&&c("pagination",g,t),!1}),a("a.link",f).click(function(){return b.play&&e(),t=a(this).attr("href").match("[^#/]+$")-1,n!=t&&c("pagination",g,t),!1}),b.play&&
(x=setInterval(function(){c("next",k)},b.play),f.data("interval",x)))})};a.fn.slides.option={preload:!1,preloadImage:"/img/loading.gif",container:"slides_container",generateNextPrev:!1,next:"next",prev:"prev",pagination:!0,generatePagination:!0,prependPagination:!1,paginationClass:"pagination",currentClass:"current",fadeSpeed:350,fadeEasing:"",slideSpeed:350,slideEasing:"",start:1,effect:"slide",crossfade:!1,randomize:!1,play:0,pause:0,hoverPause:!1,autoHeight:!1,autoHeightSpeed:350,bigTarget:!1,
animationStart:function(){},animationComplete:function(){},slidesLoaded:function(){}};a.fn.randomize=function(b){function c(){return Math.round(Math.random())-0.5}return a(this).each(function(){var e=a(this),f=e.children(),j=f.length;if(1<j){f.hide();var r=[];for(i=0;i<j;i++)r[r.length]=i;r=r.sort(c);a.each(r,function(a,c){var j=f.eq(c),k=j.clone(!0);k.show().appendTo(e);void 0!==b&&b(j,k);j.remove()})}})}})(jQuery);
(function(){window.translate||(window.translate=function(){for(var a=[],b=arguments[0],c=0,e=/\%s/,f=[],j=e.exec(b);j;j=e.exec(b))f.push(b.substr(0,"%"==j[0][0]?j.index:j.index+1)),f.push("%s"),b=b.substr(j.index+j[0].length);f.push(b);for(b=0;b<f.length;++b)(e=f[b])&&"%s"===e?(e=arguments[++c],void 0===e?a.push("%s"):a.push(e)):a.push(e);return a.join("")})})();
$(document).ready(function(){$(".alert .close").live("click",function(){$(this).parent(".alert").hide("normal");return!1});$(".popup .close").live("click",function(){$(".popup_wrap").fadeOut("normal");return!1});$(".popup-overlay").live("click",function(){$(".popup_wrap").fadeOut("normal");return!1});$(".ui-widget-overlay").live("click",function(){$(".ui-dialog .ui-dialog-content").dialog("close")});$(".login_from_social").click(function(){$("#social_login_popup").show();return!1});$("*").click(function(a){$("#login-widget:visible").length&&
(!$(a.target).parents().filter("#login-widget:visible").length&&!$(a.target).filter("#login_btn").length)&&($("#login-widget").slideUp(300),$("#login_btn").removeClass("active_login_btn"));$(".menu-panel .popup-menu:visible").length&&(!$(a.target).parents().filter(".popup-menu:visible").length&&!$(a.target).filter(".popup-menu:visible").length)&&$(".menu-panel .popup-menu").slideUp(300)});$("#login_btn").click(function(){$(this).addClass("active_login_btn");$("#login-widget").css("left",$(this).position().left-
96);$("#login-widget").slideDown(300);return!1});$("#btn_scroll_top").click(function(){$($.browser.webkit?"body":"html").animate({scrollTop:0},1E3);return!1});$(".menu_link").click(function(){$($(this).data("menu")).css("left",$(this).position().left-10+"px").css("top",$(this).position().top-17.5+"px").slideDown("fast");return!1});$(window).resize(function(){$(".content_bg").css("min-height",0);$(window).height()>$("html").height()&&1==$(".content_bg").length&&$(".content_bg").css("min-height",$(".content_bg").height()+
$(window).height()-$("html").height())});$(document).scroll(function(){$("#btn_scroll_top").length&&($(window).scrollTop()>=$("body").offset().top+600?("undefined"!=typeof $("#btn_scroll_top:hidden").attr("data-parent")&&$("#btn_scroll_top:hidden").css("left",$($("#btn_scroll_top").data("parent")).offset().left),$("#btn_scroll_top:hidden").slideDown("fast")):$("#btn_scroll_top:visible").slideUp("fast"))});$(".fileinput-link").mouseenter(function(){$(this).find("a").css("text-decoration","none")});
$(".fileinput-link").mouseleave(function(){$(this).find("a").css("text-decoration","underline")});$(".btn-social-tooltip").click(function(){setSocialTolltip(translate(LOCALIZATION.social_tooltip_msg),$(this).data("title"),$(this).data("descr"),$(this).data("url"),$(this).data("img"));$(".social-post-tooltip").css("left",$(this).offset().left+115).css("top",$(this).offset().top-20).show("slide",{direction:"left"});return!1});$("*").click(function(a){$(".social-post-tooltip:visible").length&&(!$(a.target).parents().filter(".social-post-tooltip:visible").length&&
!$(a.target).filter(".btn-social-tooltip").length)&&$(".social-post-tooltip:visible").hide("slide",{direction:"left"})});$(".btn-social-popup").click(function(){$("#modal-popup").socialPostingPopup(translate(LOCALIZATION.tell_friends_about_goal),$(this).data("title"),$(this).data("descr"),$(this).data("url"),$(this).data("img"));return!1});$(".reply").live("click",function(){comment_form=$(this).parents(".post").find(".add_comment_form");editor=comment_form.find("textarea.editor");username=$(this).parents(".comment_body").eq(0).find(".username").eq(0).text();
editor.val(username+", ");"none"==comment_form.css("display")&&comment_form.show();editor.fixedFocus();editor.setCursorPosition(editor.val().length);return!1});$(".send_comment").live("click",function(){var a=$(this).parents("form");a.ajaxSubmitSend();$.post("/blog/addPost/",a.serialize(),function(c){a.ajaxResult(c,function(c){var f=new Date;coments_list=a.parent().find(".comments_list");$("#post_subcomment0").clone().appendTo(coments_list).attr("id","post_"+c.post_id);$("#post_"+c.post_id+" .date").html(dateFormat(f,
"d mmmm yyyy, HH:MM").toLowerCase());$("#post_"+c.post_id+" .text").html(c.text);$("#post_"+c.post_id+" .editor").val(a.find("textarea").val());$("#post_"+c.post_id+" .del_post_panel").attr("id","del_post_"+c.post_id);$("#edit_comment_subcomment0").attr("id","edit_comment_"+c.post_id);$("#edit_comment_"+c.post_id+" #Blog_id").val(c.post_id);a.find("textarea").val("");a.find(".ajax-loader").hide()})});return!1});$(".comment_form .editor").keypress(function(a){(10==a.keyCode||13==a.keyCode&&a.ctrlKey)&&
$(this).parents(".comment_form").find(".send_comment").click()});$("a.all_comments").live("click",function(){var a=$(this).parents(".post_wrap"),c=a.attr("id").substr(10);$("#all_comments_"+c).ajaxSubmitSend();$.get("/blog/getComments/",{post_id:c},function(c){$("#errorMsg").stop();$("#errorMsg").css("opacity","1");c="undefined"!=typeof c.responseText?$.parseJSON(c.responseText):$.parseJSON(c);"success"==c.status?(a.find(".comments_list").html(c.comments),a.find(".all_comments").hide(),comments_count=
a.find(".comments_count"),comments_count.hide(),comments_count.after('<span class="'+comments_count.attr("class")+'">'+comments_count.text()+"</span>")):"error"==c.status&&($("#errorMsg .msgBody").html("<b>"+translate(LOCALIZATION.error)+":</b> "+c.msg),resultMsgAnimate($(this).find(".comments .all_comments"),$("#errorMsg")))});return!1});$(".edit_comment").live("click",function(){wraper=$(this).parent().parent();comment_form=wraper.find(".comment_form");"none"==comment_form.css("display")?(wraper.find(".text").hide(),
comment_form.show(),comment_form.find("textarea.editor").fixedFocus(),wraper.find(".post_images .delete").show()):(comment_form.hide(),wraper.find(".text").show(),wraper.find(".post_images .delete").hide());comment_form.find("textarea.editor").autosize({append:"\n"});comment_form.find("textarea.editor").resize();$(this).data("my-post")&&comment_form.find("textarea.editor").redactor({lang:"ru",buttons:"html formatting bold italic underline deleted unorderedlist orderedlist link horizontalrule".split(" "),
formattingTags:"p blockquote pre h2 h3 h4".split(" "),plugins:["fullscreen"]});return!1});$(".save_comment").live("click",function(){var a=$(this).parents("form"),c=[];a.find(".preview a.img").each(function(){c[c.length]=$(this).data("id")});a.find("#Blog_images").val(c.join("|"));a.ajaxSubmitSend();$.post("/blog/editPost/",a.serialize(),function(c){a.ajaxResult(c,function(){var f="undefined"!=typeof c.responseText?$.parseJSON(c.responseText):$.parseJSON(c);wraper=a.parent();wraper.find(".text").html(f.msg);
a.hide();""!=a.find("#Blog_images").val()&&(wraper.find(".post_images").append(a.find(".preview")),a.find(".preview").remove(),a.find("#Blog_images").val(""));wraper.find(".post_images .delete").hide();a.parent().find(".text").show()})});return!1});$(".add_comment").live("click",function(){post_id=$(this).parents(".post").attr("id").match(/^[^\d]*(\d+)$/)[1];comment_form=$("#comment_form_"+post_id);"none"==comment_form.css("display")?($("#post_wrap_"+post_id+" .comments").show(),comment_form.show(),
comment_form.find("textarea.editor").fixedFocus()):comment_form.hide();return!1});var a=!1;$(".show_search_goals").click(function(){var a=window.innerWidth-$(window).width();$("body").addClass("lock").css("padding-right",a+"px");$(".search_wrap").fadeIn(300);$(".search-input").focus();return!1});$(".search-overlay").click(function(){$("body").removeClass("lock").css("padding-right","0");$(".search_wrap").fadeOut(300);$("#Goal_name").val("");$(".main_suggest").html("");$(".suggests_list").html("")});
$("#search-goal-form .search-input").keydown(function(a){return 13==a.keyCode?($("#search-goal-form").submit(),!1):!0});$(".search-input").keyup(function(b){$(".main_suggest").text($(".search-input").val()+$(".main_suggest").text().substr($(".search-input").val().length));27==b.keyCode?$(".search-overlay").click():39==b.keyCode&&""!=$(".main_suggest").text()?($(".search-input").val($(".main_suggest").text()),$(".suggests_list").html("")):!a&&0<$(".search-input").val().length?(a=!0,setTimeout(function(){$.get("/goal/search_tags/",
{tag:$(".search-input").val()},function(b){tags=$.parseJSON(b);$(".suggests_list").html("");if(0<tags.length){$(".main_suggest").text($(".search-input").val()+tags[0].key.substr($(".search-input").val().length));for(b=1;b<tags.length;b++)$(".suggests_list").append('<li><a href="/goal/?section=all&name='+tags[b].key+'">'+tags[b].key+"</a></li>")}else $(".main_suggest").html("");a=!1})},300)):$(".search-input").val().length||$(".main_suggest").text("")});$.fn.ajaxSubmitSend=function(){$(this).find(".ajax-loader").css("display",
"inline-block")};$.fn.ajaxSubmitComplete=function(a,c){$("#resultMsg").stop();$("#resultMsg").css("opacity","1");var e="undefined"!=typeof a.responseText?$.parseJSON(a.responseText):a;if("success"==e.status)$("#resultMsg").attr("class","alert alert-success"),$("#resultMsg .msgBody").html(translate(LOCALIZATION.SAVE_OK)),"undefined"!=typeof e.msg&&$("#resultMsg .msgBody").append("<br />"+e.msg),$(".control-group").removeClass("error"),$(".help-block").hide(),"undefined"!=typeof c&&c();else if("error"==
e.status)for(key in e.msg){var f=$("#"+e.model+"_"+key);f.parents(".control-group").removeClass("success").addClass("error");f.parent().children(".help-block").html(e.msg[key][0]).show()}this.resultMsgAnimate($("#resultMsg"),"success"==e.status);$(document).scrollTop()>$("form").eq(0).offset().top&&$($.browser.safari?"body":"html").animate({scrollTop:$("#content").offset().top},500)};$.fn.fixedFocus=function(){var a=$(document).scrollTop();this.focus();$(document).scrollTop(a)};$.fn.setCursorPosition=
function(a){if($(this).get(0).setSelectionRange)$(this).get(0).setSelectionRange(a,a);else if($(this).get(0).createTextRange){var c=$(this).get(0).createTextRange();c.collapse(!0);c.moveEnd("character",a);c.moveStart("character",a);c.select()}};$.fn.ratingChange=function(a){wraper=$(this).find(".value");wraper.text(parseInt(wraper.text())+parseInt(a));0==parseInt(wraper.text())?wraper.removeClass("rating_plus").removeClass("rating_minus").addClass("rating_zero"):0<parseInt(wraper.text())?(wraper.removeClass("rating_zero").removeClass("rating_minus").addClass("rating_plus"),
wraper.text("+"+wraper.text())):0>parseInt(wraper.text())&&wraper.removeClass("rating_zero").removeClass("rating_plus").addClass("rating_minus");$(this).find(".vote a").hide()};$.fn.ajaxResult=function(a,c){$(this).find(".ajax-loader").hide();$("#statusMsg").length&&($("#statusMsg").stop(),$("#statusMsg").css("opacity","1"));var e="undefined"!=typeof a.responseText?$.parseJSON(a.responseText):$.parseJSON(a);if("error"==e.status)if("object"==typeof e.msg){var f=[];for(key in e.msg)f[f.length]=e.msg[key][0],
this.showStatusMsg("error","<b>"+translate(LOCALIZATION.error)+":</b> "+f.join(", "))}else this.showStatusMsg("error","<b>"+translate(LOCALIZATION.error)+":</b> "+e.msg);else"success"==e.status&&"undefined"!=typeof c&&c(e)};$.fn.resultMsgAnimate=function(a,c){$(this).find(".ajax-loader").hide();c&&(a.show(),a.animate({opacity:0.5},8E3))};$.fn.showStatusMsg=function(a,c){$("#statusMsg").length?($("#statusMsg").attr("class","alert alert-"+a+" fixed-alert").show(),$("#statusMsg .msgBody").html(c)):$("body").append('<div class="alert alert-'+
a+' fixed-alert" id="statusMsg"><a class="close">&times;</a><div class="msgBody">'+c+"</div></div>");this.resultMsgAnimate($("#statusMsg"),1)};$.fn.socialPostingPopup=function(a,c,e,f,j){this.dialog("option","title",translate(LOCALIZATION.tell_friends)).html(a+'<div class="social_buttons after_clear"><a class="facebook" href="#" onclick="postFacebook(\''+c+"', '"+e+"', '"+f+"', '"+j+"');$('#social-post-popup').dialog('close');return false;\" ></a><a class=\"twitter\" href=\"#\" onclick=\"postTwitter('"+
c+"', '"+f+"');$('#social-post-popup').dialog('close');return false;\" ></a><a class=\"google\" href=\"#\" onclick=\"postGoogle('"+f+"');$('#social-post-popup').dialog('close');return false;\" ></a><a class=\"vkontakte\" href=\"#\" onclick=\"postVkontakte('"+c+"', '"+e+"', '"+f+"', '"+j+"');$('#social-post-popup').dialog('close');return false;\" ></a></div>").dialog("open")};$.fn.setCursorPos=function(){var a=this.eq(0);window.setTimeout(function(){var c,e;window.getSelection&&document.createRange?
(e=document.createRange(),e.selectNodeContents(a),e.collapse(!0),c=window.getSelection(),c.removeAllRanges(),c.addRange(e)):document.body.createTextRange&&(e=document.body.createTextRange(),e.moveToElementText(a),e.collapse(!0),e.select())},1)};ajaxScripts=function(a){$(".vote a").live("click",function(){var a=0,b="post";if($(this).parents(".goal_rating").length)a=$(this).parents(".goal_rating").attr("id").match(/^[^\d]*(\d+)$/)[1],b="goal";else if($(this).parents(".post_rating").length)a=$(this).parents(".post_rating").attr("id").match(/^[^\d]*(\d+)$/)[1];
else return!1;var j=$(this).hasClass("rating_plus")?"+":"-";rating=$(this).parents(".rating");var r={};r["Rating[obj_id]"]=a;r["Rating[obj_type]"]=b;r["Rating[rating_type]"]=j;r[c.csrfTokenName]=c.csrfToken;$.post("/rating/add/",r,function(a){rating.ajaxResult(a,function(){rating.ratingChange(j+"1")})});return!1});$(".subscriptions a").live("click",function(){this_obj=this;wraper=$(this).parents(".subscriptions");obj_id=wraper.attr("id").match(/^[^\d]*(\d+)$/)[1];action=$(this).hasClass("subscribe")?
"add":"remove";wraper.ajaxSubmitSend();var a={};a["Subscription[goal_id]"]=obj_id;a[c.csrfTokenName]=c.csrfToken;$.post("/subscription/"+action+"/",a,function(a){wraper.ajaxResult(a,function(){count=$(this_obj).parent().find(".count");"add"==action?($(this_obj).removeClass("subscribe").addClass("unsubscribe").find(".ajax_link").text(translate(LOCALIZATION.UNSUBSCRIBE)),count.text(parseInt(count.text())+1)):($(this_obj).removeClass("unsubscribe").addClass("subscribe").find(".ajax_link").text(translate(LOCALIZATION.SUBSCRIBE)),
count.text(parseInt(count.text())-1))})});return!1});var c=$.extend({csrfTokenName:"",csrfToken:""},a)};$(".select").ikSelect({autoWidth:!1,ddFullWidth:!1});$("textarea.editor:visible").autosize({append:"\n"});$(document).tooltip({items:"[data-tooltip]",content:function(){return $(this).data("tooltip")},tooltipClass:"tooltip"});$("#modal-popup").dialog({autoOpen:!1,resizable:!1,modal:!0,draggable:!1,dialogClass:"popup",width:"670px",closeText:translate(LOCALIZATION.close),show:{effect:"fade",duration:500},
hide:{effect:"fade",duration:500}})});$(window).load(function(){$(window).resize()});function isLocalStorageAvailable(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}}function postFacebook(a,b,c,e){a="http://www.facebook.com/sharer.php?s=100&p[title]="+a+"&p[summary]="+b+"&p[url]="+encodeURIComponent(c)+"&p[images][0]="+encodeURIComponent(e);window.open(a,"","toolbar=0,status=0,width=626,height=436")}
function postVkontakte(a,b,c,e){a="http://vkontakte.ru/share.php?title="+a+"&description="+b+"&url="+encodeURIComponent(c)+"&image="+encodeURIComponent(e);window.open(a,"","toolbar=0,status=0,width=626,height=436")}function postTwitter(a,b){var c="http://twitter.com/share?text="+a+"&url="+encodeURIComponent(b);window.open(c,"","toolbar=0,status=0,width=626,height=436")}
function postGoogle(a){a="https://plus.google.com/share?url="+encodeURIComponent(a);window.open(a,"","toolbar=0,status=0,width=626,height=436")}
function setSocialTolltip(a,b,c,e,f){$(".social-post-tooltip").length||$("body").append('<div class="social-post-tooltip"><h3 class="header">'+translate(LOCALIZATION.tell_friends)+'</h3><span class="msg"></span><div class="social_buttons after_clear"></div></div>');$(".social-post-tooltip .msg").html(a);$(".social-post-tooltip .social_buttons").html('<a class="facebook" href="#" onclick="postFacebook(\''+b+"', '"+c+"', '"+e+"', '"+f+"');$('#social-post-popup').dialog('close');return false;\" ></a><a class=\"twitter\" href=\"#\" onclick=\"postTwitter('"+
b+"', '"+e+"');$('#social-post-popup').dialog('close');return false;\" ></a><a class=\"google\" href=\"#\" onclick=\"postGoogle('"+e+"');$('#social-post-popup').dialog('close');return false;\" ></a><a class=\"vkontakte\" href=\"#\" onclick=\"postVkontakte('"+b+"', '"+c+"', '"+e+"', '"+f+"');$('#social-post-popup').dialog('close');return false;\" ></a>")};